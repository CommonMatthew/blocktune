<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="css/global.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-grid.min.css">
    <link rel="stylesheet" type="text/css" href="css/slider.css">
    <link rel="stylesheet" type="text/css" href="slick/slick.css" /> 
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css" />
    <title>Slider</title>
</head>
<body>

    <script src="js/global.js"></script>

    <div class="sliderSplash" id="pageBg">

        <!-- Background Image -->
        <img src="" id="bgImage">

        <!-- Navbar -->
        <script>
            document.write(navbar);
        </script>

        <!-- Content -->
        <div class="callToAction">
            <p>
                Choose from thousands of tracks & sounds, record over it using our state of the art online tools, and enter to win a deal,
                crypto, and more!
            </p>
            <a href="#">
                Get Started.
            </a>
        </div>        

        <!-- Social Media -->
        <script>
            document.write(socialMedia);
        </script>

        <!-- Slider -->      
        <section class="center slider">
            <!-- Slide 1 -->
            <div>
                <div class="slide-cai">
                    <div class="ctn">
                        <h1>
                            RECORD
                            <div class="purplePeriod"></div>
                        </h1>
                    </div>
                </div>
            </div>
            <!-- Slide 2 -->
            <div>
                <div class="slide-cai">
                    <div class="ctn">
                        <h1>
                            PUBLISH
                            <div class="purplePeriod"></div>
                        </h1>
                    </div>
                </div>
            </div>
            <!-- Slide 3 -->
            <div>
                <div class="slide-cai">
                    <div class="ctn">
                        <h1>
                            WIN
                            <div class="purplePeriod"></div>
                        </h1>
                    </div>
                </div>
            </div>
            <!-- Slide 4 -->
            <div>
                <div class="slide-cai">
                    <div class="ctn">
                        <h1>
                            RECORD
                            <div class="purplePeriod"></div>
                        </h1>
                    </div>
                </div>
            </div>
            <!-- Slide 5 -->
            <div>
                <div class="slide-cai">
                    <div class="ctn">
                        <h1>
                            PUBLISH
                            <div class="purplePeriod"></div>
                        </h1>
                    </div>
                </div>
            </div>
            <!-- Slide 6 -->
            <div>
                <div class="slide-cai">
                    <div class="ctn">
                        <h1>
                            WIN
                            <div class="purplePeriod"></div>
                        </h1>
                    </div>
                </div>
            </div>
        </section>  

        <div class="sliderNavWrapper">
            <div class="navigationDots">
                <div class="item">
                    <div id="Click1" class="click">
                        <img src="img/nav-dot-30w-410b.png" class="navDotActive">
                        <div class="navDotInactive"></div>
                    </div>
                </div>
                <div class="item">
                    <div id="click2" class="click">
                        <img src="img/nav-dot-30w-410b.png" class="navDotActive">
                        <div class="navDotInactive"></div>
                    </div>
                </div>
                <div class="item">
                    <div id="click3" class="click">
                        <img src="img/nav-dot-30w-410b.png" class="navDotActive">
                        <div class="navDotInactive"></div>
                    </div>
                </div>
            </div>
            
            <div class="horizontalLine"></div>  
        </div>

        <!-- Partners Logo -->
        <div class="partners-logo">
            <div>
                <img src="img/logo-capitol-studios-122w-2kb.png" alt="">
            </div>
            <div>
                <img src="img/logo-itunes-101w-1kb.png" alt="">
            </div>
            <div>
                <img src="img/logo-universal-studios-143w-2kb.png" alt="">
            </div>
        </div>

        <div class="purple-line-ctn">
            <div class="left"></div>
            <div class="right"></div>
        </div>
        
        

    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="js/jquery-migrate-1-2-1.js"></script>
    <script>

        const createEvent = (element, type) => {
            if (element.fireEvent) {
                element.fireEvent('on' + type);
            } else {
                var evObj = document.createEvent('Events');
                evObj.initEvent(type, true, false);
                element.dispatchEvent(evObj);
            }
        }

        const slider = {

            ActiveNavDotsList: document.getElementsByClassName("navDotActive"),
            InactiveNavDotsList: document.getElementsByClassName("navDotInactive"),

            activeNavDot: 0,
            activeSlide: 0,
            slideDelay: 1000,
            animationDelay: 100, 

            viewportWidth: 0,

            viewportWidthRange: {

                xxl: 1920,
                xl: 1500,
                lg: 1200,
                md: 968,
                sm: 768,
                xs: 414,

                doubleExtraLarge: 'xxl',
                extraLarge: 'xl',
                large: 'lg',
                medium: 'md',
                small: 'sm',
                extraSmall: 'xs',

                active: 'xxl'
            },

            image: {                               

                record: {
                    active: "bg-slider-singing-1920w-161kb.jpg", 
                    xxl: "bg-slider-singing-1920w-161kb.jpg",  // > 1500
                    xl: "bg-slider-singing-1510w-125kb.jpg",  // > 1500
                    lg: "bg-slider-singing-1236w-127kb.jpg", //  < 1500
                    md: "bg-slider-singing-992w-168kb.jpg",  // < 1000
                    sm: "bg-slider-singing-768w-129kb.jpg", // < 768
                    xs: "bg-record-414w-97kb.jpg"                                    
                }, 
                publish: {
                    active: "bg-publish-1920w-70kb.jpg",
                    xxl: "bg-publish-1920w-70kb.jpg",
                    lg: "",
                    md: "",
                    sm: "",
                    xs: "bg-publish-414w-27kb.jpg"  
                }, 
                win: {
                    active: "bg-win-1920w-90kb.jpg",
                    xxl: "bg-win-1920w-90kb.jpg",
                    lg: "",
                    md: "",
                    sm: "",
                    xs: "bg-win-414w-23kb.jpg"                      
                },

                element: document.getElementById("bgImage"),
                initialload: "bg-slider-singing-1920w-161kb.jpg" 
            },              

            loadImage: (img) => {
                slider.image.element.style.display = "none";
                slider.image.element.src = '';

                setTimeout(() => {
                    slider.image.element.style.display = "block";
                    slider.image.element.src = 'img/' + img;
                }, slider.animationDelay);                          
            },

            getSlideImage: () => {
                switch (slider.activeSlide) {
                    case 0:
                        slider.loadImage(slider.image.publish.active);
                        slider.activeSlide = 1;
                        break;
                    case 1:
                        slider.loadImage(slider.image.win.active);
                        slider.activeSlide = 2;
                        break;
                    case 2:
                        slider.loadImage(slider.image.record.active);
                        slider.activeSlide = 0;
                        break;
                }
            },

            removeActiveNavDot: () => {
                slider.ActiveNavDotsList[slider.activeNavDot].style.display = "none";
                slider.InactiveNavDotsList[slider.activeNavDot].style.display = "block";                
            },

            removeActiveNavDotsList: () => {
                for (let i = 0; i < slider.ActiveNavDotsList.length; i++) {
                    slider.ActiveNavDotsList[i].style.display = "none";
                }
            },
            
            setActiveNavDot: (activeDot) => {
                slider.removeActiveNavDot();
                slider.InactiveNavDotsList[activeDot].style.display = "none";
                slider.ActiveNavDotsList[activeDot].style.display = "block";
                slider.activeNavDot = activeDot;
            },
            
            setNextActiveNavDot: () => {

                switch (slider.activeNavDot) {
                    case 0:           
                        slider.setActiveNavDot(1);                              
                        break;
                    case 1:              
                        slider.setActiveNavDot(2);                             
                        break;
                    case 2:     
                        slider.setActiveNavDot(0);                                      
                        break;
                    case 3: 
                        slider.setActiveNavDot(1);                                           
                        break;
                    case 4:     
                        slider.setActiveNavDot(2);                                      
                        break;
                    case 5:     
                        slider.setActiveNavDot(0);                                   
                        break;
                }
            },

            centerImageElement: (setViewport) => {             
                const marginLeft = (setViewport - slider.viewportWidth) / 2;

                document.getElementById("bgImage").style.marginLeft = `-${marginLeft}px`;

                // console.log("---------- centerImageElement  ----------");
                // console.log("setViewport: ", setViewport);
                // console.log("slider.viewportWidth: ", slider.viewportWidth);
                // console.log("marginLeft: ", marginLeft);
                // console.log(" `-${marginLeft}px`: ",  `-${marginLeft}px`);
                // console.log("-----------------------------------");
            },

            setActiveImages: (activeViewportRange) => {
                switch (activeViewportRange) {
                    case slider.viewportWidthRange.doubleExtraLarge:                     
                        slider.image.record.active = slider.image.record.xxl;
                        slider.image.publish.active = slider.image.publish.xxl;
                        slider.image.win.active = slider.image.win.xxl;
                        slider.centerImageElement(slider.viewportWidthRange.xxl);

                        console.log("resize: Double Extra Large ");

                    break;

                    case slider.viewportWidthRange.extraLarge:
                        slider.image.record.active = slider.image.record.xxl;
                        slider.image.publish.active = slider.image.publish.xxl;
                        slider.image.win.active = slider.image.win.xxl;
                        slider.centerImageElement(slider.viewportWidthRange.xxl);

                        console.log("reszie: Extra Large ");
                    break;

                    case slider.viewportWidthRange.large:
                        slider.image.record.active = slider.image.record.xxl;
                        slider.image.publish.active = slider.image.publish.xxl;
                        slider.image.win.active = slider.image.win.xxl;
                        slider.centerImageElement(slider.viewportWidthRange.xxl);

                        console.log("reszie: large ");
                        break;

                    case slider.viewportWidthRange.medium:
                        slider.image.record.active = slider.image.record.xxl;
                        slider.image.publish.active = slider.image.publish.xxl;
                        slider.image.win.active = slider.image.win.xxl;
                        slider.centerImageElement(slider.viewportWidthRange.xxl);

                        console.log("reszie: medium ");
                        break;

                    case slider.viewportWidthRange.small:
                        slider.image.record.active = slider.image.record.xxl;
                        slider.image.publish.active = slider.image.publish.xxl;
                        slider.image.win.active = slider.image.win.xxl;
                        slider.centerImageElement(slider.viewportWidthRange.xxl);

                        console.log("reszie: small ");
                        break;
                    
                    case slider.viewportWidthRange.extraSmall:                      
                        slider.image.record.active = slider.image.record.xs;
                        slider.image.publish.active = slider.image.publish.xs;
                        slider.image.win.active = slider.image.win.xs;
                        slider.centerImageElement(slider.viewportWidthRange.xs);

                        console.log("reszie: Extra Small ");
                        break;
                }
            },

            setViewportWidthRange: () => {
                const viewportWidth = window.innerWidth;
                slider.viewportWidth = viewportWidth;

                if (viewportWidth <= slider.viewportWidthRange.xs) {                    
                    slider.viewportWidthRange.active = slider.viewportWidthRange.extraSmall;
                } 
                else if (viewportWidth <= slider.viewportWidthRange.sm) {                    
                    slider.viewportWidthRange.active = slider.viewportWidthRange.small;
                } 
                else if (viewportWidth <= slider.viewportWidthRange.md) {                    
                    slider.viewportWidthRange.active = slider.viewportWidthRange.medium;
                } 
                else if (viewportWidth <= slider.viewportWidthRange.lg) {                    
                    slider.viewportWidthRange.active = slider.viewportWidthRange.large;
                } 
                else if (viewportWidth <= slider.viewportWidthRange.xl) {                    
                    slider.viewportWidthRange.active = slider.viewportWidthRange.extraLarge;
                } else {                    
                    slider.viewportWidthRange.active = slider.viewportWidthRange.doubleExtraLarge;
                }
            }
        } // const slider = {}
        
        /* Track click events on Slider Dots Navigation */
        setTimeout(() => {
            const slideOneDot = document.getElementById("Click1");
            slideOneDot.addEventListener("click", () => {
                slider.loadImage(slider.image.record.active);
                slider.activeSlide = 0;
                slider.setActiveNavDot(0);
                slider.activeNavDot = 0;
                createEvent(document.getElementById('slick-slide-control00'), 'click');
            });

            const slideTwoDot = document.getElementById("click2");
            slideTwoDot.addEventListener("click", () => {
                slider.loadImage(slider.image.publish.active);
                slider.activeSlide = 1;
                slider.setActiveNavDot(1);
                slider.activeNavDot = 1;
                createEvent(document.getElementById('slick-slide-control01'), 'click');
            });

            const slideTwoThree = document.getElementById("click3");
            slideTwoThree.addEventListener("click", () => {
                slider.loadImage(slider.image.win.active);
                slider.activeSlide = 2;
                slider.setActiveNavDot(2);
                slider.activeNavDot = 2;
                createEvent(document.getElementById('slick-slide-control02'), 'click');
            });
        },slider.slideDelay);

        slider.setViewportWidthRange();
        slider.setActiveImages(slider.viewportWidthRange.active);

        slider.loadImage(slider.image.record.active);   
        slider.removeActiveNavDotsList();
        slider.setActiveNavDot(0);     

        window.addEventListener("resize", () => {
            slider.setViewportWidthRange();
            slider.setActiveImages(slider.viewportWidthRange.active);
        });

    </script>

    <script type="text/javascript" src="slick/slick.js"></script>
    <script src="js/navbar.js"></script>

    <script type="text/javascript">
        $(document).on('ready', function () {
            $(".center").slick({
                dots: true,
                infinite: true,
                centerMode: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                swipe: false,
                autoplay: true
            });
        });
    </script>
</body>
</html>